{
    "name": "ROS 2 Humble",
    "image": "osrf/ros:humble-desktop-full",
    "runArgs": [
        "-e",
        "DISPLAY=${localEnv:DISPLAY}",
        "-e",
        "WAYLAND_DISPLAY=${localEnv:WAYLAND_DISPLAY}",
        "-e",
        "XDG_RUNTIME_DIR=${localEnv:XDG_RUNTIME_DIR}",
        "-e",
        "RMW_IMPLEMENTATION=rmw_cyclonedds_cpp",
        "-e",
        "CYCLONEDDS_URI=file:///etc/cyclonedds.xml",
        "-e",
        "ROS_DOMAIN_ID=0",
        "-p",
        "7400:7400/udp",
        "-p",
        "7410-7420:7410-7420/udp",
        "-v",
        "/tmp/.X11-unix:/tmp/.X11-unix",
        "-v",
        "/mnt/wslg:/mnt/wslg",
        "-v",
        "${localWorkspaceFolder}/cyclonedds.xml:/etc/cyclonedds.xml",
        "-v",
        "${localWorkspaceFolder}/cyclonedds.xml:/root/.cyclonedds.xml"
    ],
    "workspaceMount": "source=${localWorkspaceFolder},target=/root/ros2_ws,type=bind",
    "workspaceFolder": "/root/ros2_ws",
    "postCreateCommand": "bash -lc 'source /opt/ros/humble/setup.bash && apt update && apt install -y python3-colcon-common-extensions git vim && echo \"# ROS 2 Environment\" >> /root/.bashrc && echo \"source /opt/ros/humble/setup.bash\" >> /root/.bashrc && echo \"if [ -f /root/ros2_ws/install/setup.bash ]; then source /root/ros2_ws/install/setup.bash; fi\" >> /root/.bashrc && echo \"export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp\" >> /root/.bashrc && echo \"export CYCLONEDDS_URI=file:///etc/cyclonedds.xml\" >> /root/.bashrc && echo \"export ROS_DOMAIN_ID=0\" >> /root/.bashrc && echo \"alias setup-env=\\\"source /root/ros2_ws/setup-env.sh\\\"\" >> /root/.bashrc'",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.cpptools",
                "ms-python.python",
                "ms-vscode.cmake-tools",
                "ms-iot.vscode-ros"
            ]
        }
    }
}