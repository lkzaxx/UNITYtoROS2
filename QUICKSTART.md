# ğŸš€ Unity-OpenArm å¿«é€Ÿå•Ÿå‹•æŒ‡å—

## âš¡ æœ€ç°¡å–®çš„ä½¿ç”¨æ–¹å¼

### 1ï¸âƒ£ å•Ÿå‹•æ‰€æœ‰æœå‹™
```cmd
start_compose.bat
```
- è‡ªå‹•å®‰è£ä¾è³´
- è‡ªå‹•ç·¨è­¯å¥—ä»¶
- è‡ªå‹•å•Ÿå‹• TCP Endpoint å’Œ Unity Bridge
- ç­‰å¾… 30-60 ç§’å®Œæˆåˆå§‹åŒ–

### 2ï¸âƒ£ æ¸¬è©¦é€£æ¥
```cmd
test_unity_connection.bat
```
- æª¢æŸ¥æ‰€æœ‰æœå‹™ç‹€æ…‹
- é©—è­‰ç«¯å£å’Œé€²ç¨‹
- å¯é¸ï¼šç›£æ§ Unity å¿ƒè·³

### 3ï¸âƒ£ åœ¨ Unity ä¸­é€£æ¥
- **ROS IP**: `127.0.0.1`
- **ROS Port**: `10000`
- **Protocol**: `ROS2`

### 4ï¸âƒ£ åœæ­¢æœå‹™
```cmd
stop_compose.bat
```

---

## ğŸ“‹ æ‰€æœ‰å¯ç”¨è…³æœ¬

| è…³æœ¬ | åŠŸèƒ½ | ä½¿ç”¨å ´æ™¯ |
|------|------|----------|
| **start_compose.bat** | â­ å•Ÿå‹•æ‰€æœ‰æœå‹™ | æ¯æ¬¡é–‹å§‹å·¥ä½œæ™‚ä½¿ç”¨ |
| **stop_compose.bat** | åœæ­¢æ‰€æœ‰æœå‹™ | å®Œæˆå·¥ä½œå¾Œé—œé–‰ |
| **test_unity_connection.bat** | æ¸¬è©¦é€£æ¥ç‹€æ…‹ | ç¢ºèªæœå‹™æ˜¯å¦æ­£å¸¸ |
| **view_status.bat** | æŸ¥çœ‹ç‹€æ…‹å’Œæ—¥èªŒ | èª¿è©¦å’Œç›£æ§ |
| **start_all_services.bat** | èˆŠç‰ˆï¼šæ‰‹å‹•å•Ÿå‹•ï¼ˆä¸æ¨è–¦ï¼‰ | åƒ…ç•¶ compose æœ‰å•é¡Œæ™‚ |
| **start_basic_services.bat** | èˆŠç‰ˆï¼šåŸºæœ¬æœå‹™ï¼ˆä¸æ¨è–¦ï¼‰ | åƒ…ç•¶ compose æœ‰å•é¡Œæ™‚ |

---

## ğŸ”„ å…¸å‹å·¥ä½œæµç¨‹

### æ—¥å¸¸ä½¿ç”¨
```
1. start_compose.bat
   â†“
2. ç­‰å¾…æœå‹™å•Ÿå‹• (30-60ç§’)
   â†“
3. test_unity_connection.bat (å¯é¸)
   â†“
4. æ‰“é–‹ Unity ä¸¦é€£æ¥
   â†“
5. é–‹å§‹é–‹ç™¼/æ¸¬è©¦
   â†“
6. stop_compose.bat
```

### é‡åˆ°å•é¡Œæ™‚
```
1. view_status.bat
   â†“
2. é¸æ“‡ "1" æŸ¥çœ‹å¯¦æ™‚æ—¥èªŒ
   â†“
3. æ‰¾åˆ°éŒ¯èª¤ä¿¡æ¯
   â†“
4. ä¿®å¾©å•é¡Œ
   â†“
5. docker-compose restart (æˆ–é‡æ–°å•Ÿå‹•)
```

---

## ğŸ› ï¸ å¸¸è¦‹å•é¡Œå¿«é€Ÿè§£æ±º

### âŒ æœå‹™ç„¡æ³•å•Ÿå‹•
```cmd
# æŸ¥çœ‹è©³ç´°æ—¥èªŒ
view_status.bat
# é¸æ“‡é¸é … 1

# æˆ–ç›´æ¥æŸ¥çœ‹
docker-compose -f docker-compose-humble.yml logs -f
```

### âŒ Unity ç„¡æ³•é€£æ¥
```cmd
# é‹è¡Œæ¸¬è©¦è…³æœ¬
test_unity_connection.bat

# å¦‚æœæ¸¬è©¦å¤±æ•—ï¼Œé‡å•Ÿæœå‹™
docker-compose -f docker-compose-humble.yml restart
```

### âŒ ç«¯å£è¢«å ç”¨
```cmd
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„é€²ç¨‹
netstat -ano | findstr :10000

# çµæŸè©²é€²ç¨‹ï¼ˆæ›¿æ› <PID>ï¼‰
taskkill /PID <PID> /F

# é‡å•Ÿæœå‹™
start_compose.bat
```

### âŒ ç·¨è­¯å¤±æ•—
```cmd
# é€²å…¥å®¹å™¨æ‰‹å‹•ç·¨è­¯
docker exec -it unity_ros2_tcp bash

# åœ¨å®¹å™¨å…§åŸ·è¡Œ
cd /ros2_ws
source /opt/ros/humble/setup.bash
rm -rf build install log
colcon build --symlink-install --packages-select ros_tcp_endpoint unity_openarm_bridge
```

---

## ğŸ“Š æœå‹™æª¢æŸ¥æ¸…å–®

å•Ÿå‹•å¾Œç¢ºèªä»¥ä¸‹é …ç›®ï¼š

- [ ] å®¹å™¨ `unity_ros2_tcp` æ­£åœ¨é‹è¡Œ
- [ ] ç«¯å£ 10000 æ­£åœ¨ç›£è½
- [ ] TCP Endpoint é€²ç¨‹é‹è¡Œä¸­
- [ ] Unity Bridge é€²ç¨‹é‹è¡Œä¸­
- [ ] å¯ä»¥åˆ—å‡º ROS2 ä¸»é¡Œ
- [ ] Unity èƒ½æˆåŠŸé€£æ¥

**å¿«é€Ÿæª¢æŸ¥**: åŸ·è¡Œ `test_unity_connection.bat`

---

## ğŸ’¡ å¯¦ç”¨å‘½ä»¤

### é€²å…¥å®¹å™¨åŸ·è¡Œå‘½ä»¤
```cmd
# é€²å…¥ä¸»å®¹å™¨
docker exec -it unity_ros2_tcp bash

# åœ¨å®¹å™¨å…§åŸ·è¡Œ ROS2 å‘½ä»¤
source /opt/ros/humble/setup.bash
cd /ros2_ws
source install/setup.bash
ros2 topic list
```

### æŸ¥çœ‹ç‰¹å®šæœå‹™çš„æ—¥èªŒ
```cmd
# åªçœ‹ä¸»å®¹å™¨æ—¥èªŒ
docker logs unity_ros2_tcp -f

# åªçœ‹å·¥å…·å®¹å™¨æ—¥èªŒ
docker logs ros2_tools -f
```

### é‡å•Ÿç‰¹å®šå®¹å™¨
```cmd
docker restart unity_ros2_tcp
```

---

## ğŸ¯ æ¨è–¦è¨­ç½®

### é¦–æ¬¡ä½¿ç”¨
1. åŸ·è¡Œ `start_compose.bat`
2. ç­‰å¾…ç·¨è­¯å®Œæˆï¼ˆæŸ¥çœ‹æ—¥èªŒä¸­çš„ "âœ… æ‰€æœ‰æœå‹™å·²å•Ÿå‹•ï¼"ï¼‰
3. åŸ·è¡Œ `test_unity_connection.bat` ç¢ºèªä¸€åˆ‡æ­£å¸¸
4. åœ¨ Unity ä¸­æ¸¬è©¦é€£æ¥

### æ¯æ—¥ä½¿ç”¨
1. `start_compose.bat` â†’ å•Ÿå‹•
2. é–‹ç™¼/æ¸¬è©¦
3. `stop_compose.bat` â†’ é—œé–‰

### èª¿è©¦æ™‚
- ä½¿ç”¨ `view_status.bat` é¸é … 1ï¼ˆå¯¦æ™‚æ—¥èªŒï¼‰
- æˆ–åœ¨å¦ä¸€å€‹çµ‚ç«¯åŸ·è¡Œ: `docker-compose -f docker-compose-humble.yml logs -f`

---

## ğŸ“Œ é‡è¦æç¤º

1. **é¦–æ¬¡å•Ÿå‹•**: éœ€è¦ 30-60 ç§’ä¾†ä¸‹è¼‰å’Œç·¨è­¯å¥—ä»¶
2. **å¾ŒçºŒå•Ÿå‹•**: ç´„ 10-15 ç§’ï¼ˆä½¿ç”¨å·²ç·¨è­¯çš„å¥—ä»¶ï¼‰
3. **ç¶²çµ¡é€£æ¥**: é¦–æ¬¡å•Ÿå‹•éœ€è¦ç¶²çµ¡ä¾†ä¸‹è¼‰ä¾è³´
4. **ç£ç¢Ÿç©ºé–“**: ç¢ºä¿è‡³å°‘æœ‰ 5GB å¯ç”¨ç©ºé–“
5. **Docker è³‡æº**: å»ºè­°åˆ†é…è‡³å°‘ 4GB RAM

---

## ğŸ†˜ éœ€è¦å¹«åŠ©ï¼Ÿ

åƒè€ƒè©³ç´°æ–‡æª”: **README.md**

---

**ç‰ˆæœ¬**: 2.0.0 (Docker Compose ç‰ˆæœ¬)
**ä¸Šæ¬¡æ›´æ–°**: 2025-11-07
